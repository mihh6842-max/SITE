<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–¥–∞—Ç—å EXMO –∫–æ–¥ - EXMO –û–±–º–µ–Ω–Ω–∏–∫</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <video autoplay muted loop playsinline class="video-background">
        <source src="19264a464315513c06c2dc242649e340.mp4" type="video/mp4">
    </video>

    <header>
        <div class="user-bar">
            <div class="container">
                <div class="user-bar-content">
                    <div class="language-selector">
                        <span class="active">–†–£</span> / <span>EN</span>
                    </div>
                    <div class="header-contacts-top">
                        <span>üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞: <a href="https://t.me/yourusername" target="_blank">@yourusername</a></span>
                        <span>üìß Email: support@example.com</span>
                    </div>
                    <div class="auth-buttons-header">
                        <button class="btn-login-header" onclick="window.location.href='login.html'">–í–æ–π—Ç–∏</button>
                        <button class="btn-register-header" onclick="window.location.href='register.html'">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="main-header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <h1>EXMO –û–ë–ú–ï–ù–ù–ò–ö</h1>
                    </div>
                    <nav>
                        <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a href="#reviews">–û—Ç–∑—ã–≤—ã</a>
                        <a href="#howto">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</a>
                        <a href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    </nav>
                    <div class="work-time">
                        <span>‚è∞ –†–∞–±–æ—Ç–∞–µ–º: 10:00 - 22:00 –ú–°–ö</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="exchange-main-section">
            <div class="container">
                <div class="exchange-info">
                    <h2 id="pageTitle">–û–±–º–µ–Ω–Ω–∏–∫ EXMO –∫–æ–¥–æ–≤</h2>
                    <p class="exchange-conditions">–ö—É—Ä—Å –æ–±–º–µ–Ω–∞ 1:1 –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏. –ë—ã—Å—Ç—Ä–∞—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –°–ë–ü. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –æ–±–º–µ–Ω–∞ ‚Äî 1 000 ‚ÇΩ, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è ‚Äî 100 000 ‚ÇΩ. –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–∫–∏: 10-30 –º–∏–Ω—É—Ç.</p>
                </div>

                <form id="sellForm" class="main-exchange-form">
                    <div class="exchange-columns">
                        <div class="exchange-column">
                            <div class="form-group" data-mode="sell">
                                <label>üí≥ Gift Card (EXMO –∫–æ–¥) *</label>
                                <input type="text" id="exmoCode" name="exmoCode"
                                       placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ EXMO">
                                <small>min: 1 000 RUB | max: 100 000 RUB</small>
                            </div>

                            <div class="form-group">
                                <label id="amountLabel">üí∞ –°—É–º–º–∞ *</label>
                                <input type="number" id="giveAmount" name="giveAmount" required
                                       placeholder="–£–∫–∞–∂–∏—Ç–µ —Å—É–º–º—É" min="1000" max="100000" step="1">
                                <small>min: 1 000 RUB | max: 100 000 RUB</small>
                            </div>

                            <div class="form-group" data-mode="sell">
                                <label>üìé –§–∞–π–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è *</label>
                                <input type="file" id="screenshot" name="screenshot"
                                       accept="image/*">
                                <small>–°–∫—Ä–∏–Ω—à–æ—Ç —Å –≤–∏–¥–∏–º—ã–º EXMO –∫–æ–¥–æ–º</small>
                            </div>

                            <div class="form-group" data-mode="buy" style="display: none;">
                                <label>üë§ –§.–ò.–û. –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ *</label>
                                <input type="text" id="fullNameBuy" name="fullNameBuy"
                                       placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á">
                            </div>

                            <div class="form-group" data-mode="buy" style="display: none;">
                                <label>üì± –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–°–ë–ü) *</label>
                                <input type="tel" id="phoneBuy" name="phoneBuy"
                                       placeholder="+7 (___) ___-__-__">
                            </div>

                            <div class="form-group" data-mode="buy" style="display: none;">
                                <label>üè¶ –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ *</label>
                                <select id="bankBuy" name="bankBuy">
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –±–∞–Ω–∫</option>
                                    <option value="–°–±–µ—Ä–±–∞–Ω–∫">–°–±–µ—Ä–±–∞–Ω–∫</option>
                                    <option value="–¢–∏–Ω—å–∫–æ—Ñ—Ñ">–¢–∏–Ω—å–∫–æ—Ñ—Ñ</option>
                                    <option value="–í–¢–ë">–í–¢–ë</option>
                                    <option value="–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫">–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫</option>
                                    <option value="–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω">–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω</option>
                                    <option value="–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫">–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫</option>
                                    <option value="–û—Ç–∫—Ä—ã—Ç–∏–µ">–û—Ç–∫—Ä—ã—Ç–∏–µ</option>
                                    <option value="–†–æ—Å–±–∞–Ω–∫">–†–æ—Å–±–∞–Ω–∫</option>
                                    <option value="–î—Ä—É–≥–æ–π">–î—Ä—É–≥–æ–π</option>
                                </select>
                            </div>
                        </div>

                        <div class="exchange-column">
                            <div class="form-group">
                                <label id="receiveLabel">üíµ –°—É–º–º–∞ –∫ –ø–æ–ª—É—á–µ–Ω–∏—é</label>
                                <input type="number" id="receiveAmount" name="receiveAmount" readonly
                                       placeholder="0" class="amount-display">
                                <small id="receiveSmall">–ö—É—Ä—Å –æ–±–º–µ–Ω–∞ 1:1 ‚Ä¢ –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –°–ë–ü</small>
                            </div>

                            <div class="form-group" data-mode="sell">
                                <label>üë§ –§.–ò.–û. –ø–æ–ª—É—á–∞—Ç–µ–ª—è *</label>
                                <input type="text" id="fullName" name="fullName"
                                       placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á">
                            </div>

                            <div class="form-group" data-mode="sell">
                                <label>üì± –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–°–ë–ü) *</label>
                                <input type="tel" id="phone" name="phone"
                                       placeholder="+7 (___) ___-__-__">
                            </div>

                            <div class="form-group" data-mode="sell">
                                <label>üè¶ –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ *</label>
                                <select id="bank" name="bank">
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –±–∞–Ω–∫</option>
                                    <option value="–°–±–µ—Ä–±–∞–Ω–∫">–°–±–µ—Ä–±–∞–Ω–∫</option>
                                    <option value="–¢–∏–Ω—å–∫–æ—Ñ—Ñ">–¢–∏–Ω—å–∫–æ—Ñ—Ñ</option>
                                    <option value="–í–¢–ë">–í–¢–ë</option>
                                    <option value="–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫">–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫</option>
                                    <option value="–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω">–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω</option>
                                    <option value="–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫">–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫</option>
                                    <option value="–û—Ç–∫—Ä—ã—Ç–∏–µ">–û—Ç–∫—Ä—ã—Ç–∏–µ</option>
                                    <option value="–†–æ—Å–±–∞–Ω–∫">–†–æ—Å–±–∞–Ω–∫</option>
                                    <option value="–î—Ä—É–≥–æ–π">–î—Ä—É–≥–æ–π</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-agreement">
                        <label class="checkbox-label">
                            <input type="checkbox" required>
                            <span>–Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å —É—Å–ª–æ–≤–∏—è–º–∏ –æ–±–º–µ–Ω–∞ –∏ –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</span>
                        </label>
                    </div>

                    <button type="submit" class="btn-submit-exchange">–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
                </form>

                <div id="successMessage" class="message success" style="display:none;">
                    ‚úì –ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.
                </div>
                <div id="errorMessage" class="message error" style="display:none;">
                    ‚úó –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –≤ Telegram.
                </div>
            </div>
        </section>
    </main>

    <footer id="contacts">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <p>üì± Telegram: <a href="https://t.me/yourusername" target="_blank">@yourusername</a></p>
                    <p>üìß Email: support@example.com</p>
                </div>
                <div class="footer-section">
                    <h3>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h3>
                    <p>–ï–∂–µ–¥–Ω–µ–≤–Ω–æ: 10:00 - 22:00 (–ú–°–ö)</p>
                    <p>–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫: 10-30 –º–∏–Ω—É—Ç</p>
                </div>
                <div class="footer-section">
                    <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    <p>–ö—É—Ä—Å –æ–±–º–µ–Ω–∞: 1:1</p>
                    <p>–ö–æ–º–∏—Å—Å–∏—è: 0%</p>
                    <p>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: –°–ë–ü</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 EXMO –û–±–º–µ–Ω–Ω–∏–∫. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script>
        // –ß–∏—Ç–∞–µ–º —Ä–µ–∂–∏–º –∏–∑ URL
        const urlParams = new URLSearchParams(window.location.search);
        let currentMode = urlParams.get('mode') || 'sell';

        window.addEventListener('load', function() {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
            const pageTitle = document.getElementById('pageTitle');
            if (currentMode === 'buy') {
                pageTitle.textContent = '–ö—É–ø–∏—Ç—å EXMO –∫–æ–¥';
            } else {
                pageTitle.textContent = '–ü—Ä–æ–¥–∞—Ç—å EXMO –∫–æ–¥';
            }

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ä–µ–∂–∏–º
            switchMode(currentMode);
        });

        function switchMode(mode) {
            const columns = document.querySelectorAll('.exchange-column');
            const receiveGroup = document.querySelector('#receiveAmount').closest('.form-group');

            // –í —Ä–µ–∂–∏–º–µ buy –ø–µ—Ä–µ–º–µ—â–∞–µ–º –ø–æ–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≤ –ø–µ—Ä–≤—É—é –∫–æ–ª–æ–Ω–∫—É
            if (mode === 'buy') {
                columns[0].appendChild(receiveGroup);
                columns[1].style.display = 'none';
            } else {
                columns[1].insertBefore(receiveGroup, columns[1].firstChild);
                columns[1].style.display = 'flex';
                columns[1].style.flexDirection = 'column';
            }

            // –°–∫—Ä—ã–≤–∞–µ–º/–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
            const fieldsWithMode = document.querySelectorAll('[data-mode]');

            fieldsWithMode.forEach(field => {
                if (field.dataset.mode === mode) {
                    field.style.display = 'flex';
                    field.style.flexDirection = 'column';
                    const input = field.querySelector('input, select');
                    if (input && !input.readOnly) input.required = true;
                } else {
                    field.style.display = 'none';
                    const input = field.querySelector('input, select');
                    if (input) input.required = false;
                }
            });

            // –ú–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –ª–µ–π–±–ª–æ–≤
            const amountLabel = document.getElementById('amountLabel');
            const receiveLabel = document.getElementById('receiveLabel');
            const receiveSmall = document.getElementById('receiveSmall');

            if (mode === 'buy') {
                amountLabel.textContent = 'üí∞ –°—É–º–º–∞ –æ–ø–ª–∞—Ç—ã *';
                receiveLabel.textContent = 'üí≥ EXMO –∫–æ–¥ –Ω–∞ —Å—É–º–º—É';
                receiveSmall.textContent = '–ö—É—Ä—Å –æ–±–º–µ–Ω–∞ 1:1 ‚Ä¢ –ü–æ–ª—É—á–∏—Ç–µ EXMO –∫–æ–¥';
            } else {
                amountLabel.textContent = 'üí∞ –°—É–º–º–∞ *';
                receiveLabel.textContent = 'üíµ –°—É–º–º–∞ –∫ –ø–æ–ª—É—á–µ–Ω–∏—é';
                receiveSmall.textContent = '–ö—É—Ä—Å –æ–±–º–µ–Ω–∞ 1:1 ‚Ä¢ –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –°–ë–ü';
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Å—É–º–º—ã –ø–æ–ª—É—á–µ–Ω–∏—è (–∫—É—Ä—Å 1:1)
        const giveAmountInput = document.getElementById('giveAmount');
        const receiveAmountInput = document.getElementById('receiveAmount');

        giveAmountInput.addEventListener('input', function(e) {
            const amount = parseFloat(e.target.value) || 0;
            receiveAmountInput.value = amount;
        });

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function formatPhone(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 0) {
                if (value[0] === '8') value = '7' + value.substring(1);
                if (value[0] !== '7') value = '7' + value;
            }
            let formatted = '+7';
            if (value.length > 1) formatted += ' (' + value.substring(1, 4);
            if (value.length >= 5) formatted += ') ' + value.substring(4, 7);
            if (value.length >= 8) formatted += '-' + value.substring(7, 9);
            if (value.length >= 10) formatted += '-' + value.substring(9, 11);
            e.target.value = formatted;
        }

        const phoneInput = document.getElementById('phone');
        const phoneBuyInput = document.getElementById('phoneBuy');
        phoneInput.addEventListener('input', formatPhone);
        phoneBuyInput.addEventListener('input', formatPhone);

        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
        document.getElementById('sellForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            const giveAmount = parseFloat(document.getElementById('giveAmount').value);

            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';

            // –í–∞–ª–∏–¥–∞—Ü–∏—è –ª–∏–º–∏—Ç–æ–≤
            if (giveAmount < 1000 || giveAmount > 100000) {
                errorMessage.textContent = '‚úó –°—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç 1 000 –¥–æ 100 000 —Ä—É–±–ª–µ–π.';
                errorMessage.style.display = 'block';
                return;
            }

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞—è–≤–∫—É –≤ LocalStorage
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');

            let newOrder;
            if (currentMode === 'sell') {
                // –†–µ–∂–∏–º –ø—Ä–æ–¥–∞–∂–∏ EXMO –∫–æ–¥–∞
                newOrder = {
                    id: orders.length + 1,
                    type: 'sell',
                    exmoCode: document.getElementById('exmoCode').value,
                    giveAmount: giveAmount,
                    receiveAmount: giveAmount,
                    fullName: document.getElementById('fullName').value,
                    phone: document.getElementById('phone').value,
                    bank: document.getElementById('bank').value,
                    status: 'pending',
                    createdAt: new Date().toISOString()
                };
            } else {
                // –†–µ–∂–∏–º –ø–æ–∫—É–ø–∫–∏ EXMO –∫–æ–¥–∞
                newOrder = {
                    id: orders.length + 1,
                    type: 'buy',
                    giveAmount: giveAmount,
                    receiveAmount: giveAmount,
                    fullName: document.getElementById('fullNameBuy').value,
                    phone: document.getElementById('phoneBuy').value,
                    bank: document.getElementById('bankBuy').value,
                    status: 'pending',
                    createdAt: new Date().toISOString()
                };
            }

            orders.push(newOrder);
            localStorage.setItem('orders', JSON.stringify(orders));

            successMessage.style.display = 'block';
            this.reset();
            receiveAmountInput.value = '0';

            setTimeout(() => {
                successMessage.style.display = 'none';
            }, 5000);
        });
    </script>
</body>
</html>
